1、CurrentHashMap为什么是线程安全的？ConcurrentHashMap底层原理
底层使用了锁机制
在JDK1.7的时候，采用的是分段锁
在JDK1.8的时候，进行了升级，锁的粒度更加细化，锁红黑树的节点

JDK1.7的内部，主要是一个segment数组，而数组的每一项，又是一个HashEntry数组。元素都存在HashEntry数组里。
因为每次锁定的都是Segment对象，也就是整个HashEntry数组，所以又叫分段锁

JDK1.8的内部，舍弃了分段锁的一个实现方式，元素都存在Node数组中，每次锁住的是一个Node对象，而不是某一段数组，
所以支持的写的并发度更高
再则，他引入了红黑树，在hash冲突严重的时候，读的效率更高

