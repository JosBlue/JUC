微服务

网关：主要的功能：鉴权、限流、黑白名单、路由转发

限流：分为整体限流和单个服务的限流

整体（集群）限流：过滤器
单个服务限流：aop和过滤器


access_token ref_token ==》保证接口安全，保证用户体验
access_token:用于访问系统，为了接口的安全
ref_token：用于刷新access_token，为了让系统的平滑过度
通常，ref_token要比access_token要长一些，为了保证access_token过期后，ref_token可以去刷新access_token
刷新的操作，通常也是被动的，因为如果主动刷新access_token，需要建立长链接，会给服务端带来较大的压力，耗系统资源
所以，通常为，访问时，如果发现access_token过期了，通过ref_token刷新access_token，如果ref_token也过期了，那么就需要重新登陆


为什么要做中台？
通用服务沉淀下来，让开发新业务时，提高效率

业务善变，改造影响范围大，所以就涉及到去中台

注册中心挂了 服务可以调通，也不可以调通
本地服务缓存了需要被调用的服务地址，被调用的服务也没有挂，那么就可以调通
如果需要被调用的服务挂了，由于注册中心也挂了，所以也没法从注册中心同步，因此服务调不同

配置中心
便于服务的配置管理 

如何让你的系统可以承载高并发？
提高响应时间，把一些业务逻辑滞后

 



